"use strict";(self.webpackChunkciroh_docuhub=self.webpackChunkciroh_docuhub||[]).push([[3005],{75618:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"products/Community Hydrologic Modeling Framework/nextgeninaboxDocker/workflow-cloud","title":"NGIAB E2E Workflow: Cloud Tutorial","description":"Complete guide for setting up and running NextGen In a Box (NGIAB)","source":"@site/docs/products/Community Hydrologic Modeling Framework/nextgeninaboxDocker/workflow-cloud.md","sourceDirName":"products/Community Hydrologic Modeling Framework/nextgeninaboxDocker","slug":"/products/Community Hydrologic Modeling Framework/nextgeninaboxDocker/workflow-cloud","permalink":"/docuhub-staging/docs/products/Community Hydrologic Modeling Framework/nextgeninaboxDocker/workflow-cloud","draft":false,"unlisted":false,"editUrl":"https://github.com/CIROH-UA/ciroh-ua_website/edit/main/docs/products/Community Hydrologic Modeling Framework/nextgeninaboxDocker/workflow-cloud.md","tags":[{"inline":true,"label":"NextGen In A Box","permalink":"/docuhub-staging/docs/tags/next-gen-in-a-box"},{"inline":true,"label":"NGIAB","permalink":"/docuhub-staging/docs/tags/ngiab"},{"inline":true,"label":"NGIAB Data Preprocess","permalink":"/docuhub-staging/docs/tags/ngiab-data-preprocess"},{"inline":true,"label":"Workflow","permalink":"/docuhub-staging/docs/tags/workflow"},{"inline":true,"label":"Tutorial","permalink":"/docuhub-staging/docs/tags/tutorial"}],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"NGIAB E2E Workflow: Cloud Tutorial","description":"Complete guide for setting up and running NextGen In a Box (NGIAB)","tags":["NextGen In A Box","NGIAB","NGIAB Data Preprocess","Workflow","Tutorial"]},"sidebar":"products","previous":{"title":"NGIAB E2E Workflow Video: Local Setup","permalink":"/docuhub-staging/docs/products/Community Hydrologic Modeling Framework/nextgeninaboxDocker/workflow"},"next":{"title":"NGIAB-HPCInfra","permalink":"/docuhub-staging/docs/products/Community Hydrologic Modeling Framework/nextgeninaboxSingularity/"}}');var r=i(74848),o=i(28453);const t={sidebar_position:5,title:"NGIAB E2E Workflow: Cloud Tutorial",description:"Complete guide for setting up and running NextGen In a Box (NGIAB)",tags:["NextGen In A Box","NGIAB","NGIAB Data Preprocess","Workflow","Tutorial"]},l="NGIAB End-to-End Setup Guide",c={},a=[{value:"Overview",id:"overview",level:2},{value:"Prerequisites",id:"prerequisites",level:2},{value:"Tutorial Overview",id:"tutorial-overview",level:2},{value:"Step 1: Data Preprocessing",id:"step-1-data-preprocessing",level:2},{value:"Using CIROH JupyterHub (Recommended)",id:"using-ciroh-jupyterhub-recommended",level:3},{value:"Customization Options",id:"customization-options",level:3},{value:"Step 2: NGIAB Setup and Execution",id:"step-2-ngiab-setup-and-execution",level:2},{value:"Clone and Run NGIAB",id:"clone-and-run-ngiab",level:3},{value:"What Happens During Execution",id:"what-happens-during-execution",level:3},{value:"Step 3: Accessing Results and Visualization",id:"step-3-accessing-results-and-visualization",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Common Issues",id:"common-issues",level:3},{value:"Additional Resources",id:"additional-resources",level:2},{value:"Documentation",id:"documentation",level:3},{value:"Support",id:"support",level:3}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"ngiab-end-to-end-setup-guide",children:"NGIAB End-to-End Setup Guide"})}),"\n",(0,r.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(n.p,{children:"This guide walks you through the complete NGIAB (NextGen In A Box) workflow:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsx)(n.li,{children:"Preparing input data using the Data Preprocessor"}),"\n",(0,r.jsx)(n.li,{children:"Running the NGIAB model"}),"\n",(0,r.jsx)(n.li,{children:"Evaluating results with TEEHR"}),"\n",(0,r.jsx)(n.li,{children:"Visualizing outputs through the Tethys portal"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Git"}),"\n",(0,r.jsx)(n.li,{children:"Docker Desktop (installed and running)"}),"\n",(0,r.jsx)(n.li,{children:"Terminal/Command Prompt access"}),"\n",(0,r.jsx)(n.li,{children:"Internet connection for downloading data and images"}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"tutorial-overview",children:"Tutorial Overview"}),"\n",(0,r.jsx)(n.p,{children:"This guide provides a complete walkthrough of the NGIAB setup process, covering:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Data Preprocessing"})," - Preparing hydrofabric, forcings, and model configurations"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"NGIAB Installation"})," - Setting up the containerized environment"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Model Execution"})," - Running the NextGen hydrological model"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"TEEHR Evaluation"})," - Analyzing model performance"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Tethys Visualization"})," - Exploring results through interactive visualization"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"step-1-data-preprocessing",children:"Step 1: Data Preprocessing"}),"\n",(0,r.jsx)(n.p,{children:"The first step involves preparing the necessary input data for the NGIAB model:"}),"\n",(0,r.jsx)(n.h3,{id:"using-ciroh-jupyterhub-recommended",children:"Using CIROH JupyterHub (Recommended)"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Access the CIROH JupyterHub"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:["Navigate to ",(0,r.jsx)(n.a,{href:"https://ciroh.awi.2i2c.cloud/",children:"CIROH JupyterHub"})]}),"\n",(0,r.jsxs)(n.li,{children:["If you need access, ",(0,r.jsx)(n.a,{href:"/docs/services/access#accessing-ciroh-jupyterhub",children:"request it here"})]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Select the Appropriate Environment"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:'When starting your server, choose "NGIAB Data Preprocess" from the dropdown menu'}),"\n",(0,r.jsx)(n.li,{children:"This environment has all required dependencies pre-installed"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Run the Data Preprocessing Tool"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Open a terminal in JupyterHub (New \u2192 Terminal)"}),"\n",(0,r.jsx)(n.li,{children:"Execute the following command:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python -m ngiab_data_cli -i cat-2863657 --subset --start 2010-01-01 --end 2010-01-02 --forcings --realization\n"})}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Download the Processed Data"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"After processing completes, compress the output folder into a ZIP archive"}),"\n",(0,r.jsx)(n.li,{children:'In the file navigator (left panel), right-click the ZIP file and select "Download"'}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"customization-options",children:"Customization Options"}),"\n",(0,r.jsx)(n.p,{children:"You can adjust the command parameters to customize your data:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"-i cat-XXXXXXX"}),": Use a different catchment ID"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"--start YYYY-MM-DD"}),": Change start date"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"--end YYYY-MM-DD"}),": Change end date"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"For all available options:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"python -m ngiab_data_cli --help\n"})}),"\n",(0,r.jsx)(n.h2,{id:"step-2-ngiab-setup-and-execution",children:"Step 2: NGIAB Setup and Execution"}),"\n",(0,r.jsx)(n.p,{children:"After preparing your input data, you'll set up and run the NGIAB model on local machine:"}),"\n",(0,r.jsx)(n.h3,{id:"clone-and-run-ngiab",children:"Clone and Run NGIAB"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-bash",children:"# Return to home directory (if needed)\ncd ~\n\n# Clone NGIAB repository\ngit clone https://github.com/CIROH-UA/NGIAB-CloudInfra.git\n\n# Navigate to NGIAB directory\ncd NGIAB-CloudInfra\n\n# Execute the setup and run script\n./guide.sh\n"})}),"\n",(0,r.jsx)(n.h3,{id:"what-happens-during-execution",children:"What Happens During Execution"}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"guide.sh"})," script performs several key operations automatically:"]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Downloads and configures the NGIAB Docker environment"}),"\n",(0,r.jsx)(n.li,{children:"Launches the NextGen hydrologic model with your input data"}),"\n",(0,r.jsx)(n.li,{children:"Initializes TEEHR analysis tools to evaluate model results"}),"\n",(0,r.jsx)(n.li,{children:"Starts the Tethys visualization interface for interactive exploration"}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Follow the on-screen prompts during script execution to provide necessary inputs."}),"\n",(0,r.jsx)(n.h2,{id:"step-3-accessing-results-and-visualization",children:"Step 3: Accessing Results and Visualization"}),"\n",(0,r.jsx)(n.p,{children:"Once the script completes successfully:"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Access the Tethys Visualizer"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Open your web browser"}),"\n",(0,r.jsxs)(n.li,{children:["Navigate to: ",(0,r.jsx)(n.code,{children:"http://localhost/apps/ngiab"})]}),"\n",(0,r.jsxs)(n.li,{children:["The interface allows you to explore:","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Catchment maps"}),"\n",(0,r.jsx)(n.li,{children:"Hydrologic time series"}),"\n",(0,r.jsx)(n.li,{children:"Performance metrics"}),"\n",(0,r.jsx)(n.li,{children:"Comparison visualizations"}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"View TEEHR Evaluation Results"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Performance metrics are displayed in the Tethys interface"}),"\n",(0,r.jsx)(n.li,{children:"Raw evaluation data is available in the designated output directory"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,r.jsx)(n.h3,{id:"common-issues",children:"Common Issues"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Docker Problems"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ensure Docker Desktop is running"}),"\n",(0,r.jsx)(n.li,{children:"Verify you have sufficient system resources allocated to Docker"}),"\n",(0,r.jsx)(n.li,{children:"Check for Docker permission issues (you may need to run as administrator/sudo)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"JupyterHub Connection"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Verify your internet connection"}),"\n",(0,r.jsx)(n.li,{children:"Try refreshing the page or restarting your server"}),"\n",(0,r.jsx)(n.li,{children:"Check that you have proper access permissions"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"Data Processing Errors"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ensure you've selected a valid catchment ID"}),"\n",(0,r.jsx)(n.li,{children:"Verify date ranges are valid and formatted correctly"}),"\n",(0,r.jsx)(n.li,{children:"Check for sufficient disk space"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:["\n",(0,r.jsx)(n.p,{children:(0,r.jsx)(n.strong,{children:"NGIAB Execution Failures"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Ensure you have the latest version of the repository"}),"\n",(0,r.jsx)(n.li,{children:"Check that input data paths are correctly specified"}),"\n",(0,r.jsx)(n.li,{children:"Review Docker logs for detailed error information"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"additional-resources",children:"Additional Resources"}),"\n",(0,r.jsx)(n.h3,{id:"documentation",children:"Documentation"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/CIROH-UA/NGIAB_data_preprocess",children:"NGIAB Data Preprocessor"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/CIROH-UA/NGIAB-CloudInfra",children:"NGIAB Cloud Infrastructure"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://github.com/RTIInternational/teehr",children:"TEEHR Documentation"})}),"\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.a,{href:"https://www.tethysplatform.org/",children:"Tethys Platform Documentation"})}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"support",children:"Support"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:"Technical issues: Create an issue in the respective GitHub repository"}),"\n",(0,r.jsx)(n.li,{children:"General questions: Contact the CIROH support team"}),"\n",(0,r.jsx)(n.li,{children:"Community discussions: Join the CIROH Slack workspace"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>l});var s=i(96540);const r={},o=s.createContext(r);function t(e){const n=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),s.createElement(o.Provider,{value:n},e.children)}}}]);