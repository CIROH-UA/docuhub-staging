"use strict";(self.webpackChunkciroh_docuhub=self.webpackChunkciroh_docuhub||[]).push([[8778],{87795:(e,i,a)=>{a.r(i),a.d(i,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>t,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"products/Community Flood Inundation Mapping/FIM Database/index","title":"FIM Database for Multi-Model Visualization","description":"Documentation for creating a FIM database for flood scenarios visualization and comparison.","source":"@site/docs/products/Community Flood Inundation Mapping/FIM Database/index.mdx","sourceDirName":"products/Community Flood Inundation Mapping/FIM Database","slug":"/products/Community Flood Inundation Mapping/FIM Database/","permalink":"/docuhub-staging/docs/products/Community Flood Inundation Mapping/FIM Database/","draft":false,"unlisted":false,"editUrl":"https://github.com/CIROH-UA/ciroh-ua_website/edit/main/docs/products/Community Flood Inundation Mapping/FIM Database/index.mdx","tags":[{"inline":true,"label":"Products","permalink":"/docuhub-staging/docs/tags/products"},{"inline":true,"label":"Flood Inundation Mapping","permalink":"/docuhub-staging/docs/tags/flood-inundation-mapping"}],"version":"current","frontMatter":{"title":"FIM Database for Multi-Model Visualization","description":"Documentation for creating a FIM database for flood scenarios visualization and comparison.","tags":["Products","Flood Inundation Mapping"]},"sidebar":"products","previous":{"title":"FIM Evaluation Framework","permalink":"/docuhub-staging/docs/products/Community Flood Inundation Mapping/FIM Evaluation Framework/"},"next":{"title":"Mobile Apps","permalink":"/docuhub-staging/docs/products/Mobile Apps/"}}');var n=a(74848),o=a(28453);const t={title:"FIM Database for Multi-Model Visualization",description:"Documentation for creating a FIM database for flood scenarios visualization and comparison.",tags:["Products","Flood Inundation Mapping"]},r="FIM Database for Multi-Model Visualization and Comparison",l={},d=[{value:"Introduction",id:"introduction",level:2},{value:"Creating a FIM database",id:"creating-a-fim-database",level:2},{value:"Database storage",id:"database-storage",level:2},{value:"Visualization of database",id:"visualization-of-database",level:2},{value:"Custom files visualization",id:"custom-files-visualization",level:3},{value:"Scenario visualization",id:"scenario-visualization",level:3},{value:"Comparison of flood maps",id:"comparison-of-flood-maps",level:3}];function c(e){const i={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(i.header,{children:(0,n.jsx)(i.h1,{id:"fim-database-for-multi-model-visualization-and-comparison",children:"FIM Database for Multi-Model Visualization and Comparison"})}),"\n",(0,n.jsx)(i.h2,{id:"introduction",children:"Introduction"}),"\n",(0,n.jsx)(i.p,{children:"FIM (Flood Inundation Mapping) Database is a framework designed to store compiled flood maps from multiple hydraulic models including reference flood maps.\nThe structure and workflow of the FIM Database for Multi-Model Flood Map Retrieval and Visualization is shown in Figure 1."}),"\n",(0,n.jsx)("img",{alt:"Methodology",src:a(10556).A,style:{maxHeight:"30rem"}}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Figure 1:"})," Overall framework of the database"]}),"\n",(0,n.jsxs)(i.p,{children:["This documentation is intended to guide the water resources community to create a FIM (Flood Inundation Mapping) Database using flood maps generated from multiple hydraulic models. Users can upload and visualize custom flood maps, visualize flood extent scenarios for different flows, and compare flood extents by creating the database, storing it in hydroshare, and finally using the existing web application for the visualization. The application is available in the apps list in ",(0,n.jsx)(i.a,{href:"https://portal.ciroh.org/apps",children:"CIROH portal apps"}),' with the name "FIM (Flood Information Map Visualization Deck)" as shown in Figure 2.']}),"\n",(0,n.jsx)("img",{alt:"Website link",src:a(69226).A,style:{maxHeight:"20rem"}}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Figure 2:"})," FIM Visualization Application"]}),"\n",(0,n.jsx)(i.p,{children:"To access this application, click the arrow symbol located in the middle of the map image. You will then be navigated to the visualization application as shown in Figure 3."}),"\n",(0,n.jsx)("img",{alt:"Visualization app",src:a(88088).A,style:{maxHeight:"30rem"}}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Figure 3:"})," FIM Visualization Application"]}),"\n",(0,n.jsx)(i.h2,{id:"creating-a-fim-database",children:"Creating a FIM database"}),"\n",(0,n.jsx)(i.p,{children:"It is assumed that users already have at least one hydraulic model from which flood maps can be generated for any area of interest. We guide users to be able to compare the flood map from that model with the baseline flood map for the same area from NWM HAND using FIMServ tool developed by our CIROH partners in University of Alabama."}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"Step 1:"})}),"\n",(0,n.jsxs)(i.p,{children:["Re-run your flood model with as many flow values as you desire. A basic database model may include flood maps for flow values corresponding to return periods ranging from 2 years to 1000 years. If you are using the NWM flows, you can find the return period values using the ",(0,n.jsx)(i.a,{href:"https://colab.research.google.com/drive/1g3C-A-19w2gwr1kMBcV6d37RChWX0zoh",children:"NWM_returnperiod_finder_Tool tool"})," developed at Hydroinformatics Lab, BYU. You will need to have NWM feature IDs for the streams in your domain. You can use ",(0,n.jsx)(i.a,{href:"https://colab.research.google.com/drive/18CAyUd4ffUoNWDLvbaBVTw0XVSQrHNWI",children:"NWM_FeatureID_finder_Tool"})," to find the feature IDs for your domain. This code gives you the IDs along the mainstream path only."]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"Step 2:"})}),"\n",(0,n.jsx)(i.p,{children:"Run the HAND (Height Above Nearest Drainage) model for your area of interest. Follow the following steps to generate flood maps using HAND method."}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Generate the shape file of the model boundary from the model you have for your area of interest."}),"\n",(0,n.jsxs)(i.li,{children:["Use the ",(0,n.jsx)(i.a,{href:"https://github.com/sdmlua/FIMserv",children:"FimServe_Tool"})," to create HAND-based flood maps by providing the same model boundary shapefile and the discharge values."]}),"\n",(0,n.jsx)(i.li,{children:"This tool uses NWM (National Water Model) retrospective data by default to generate flood maps."}),"\n",(0,n.jsx)(i.li,{children:"To create flood maps for specific return periods, use return-period discharge values, instead of retrospective flow values, for each NWM reach ID using the tool mentioned in Step 1."}),"\n",(0,n.jsx)(i.li,{children:"Make sure the flood maps generated from your model and HAND model correspond to same discharge values if you want to make meaningful comparison."}),"\n",(0,n.jsx)(i.li,{children:"Clip the output maps with the model boundary shape file."}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"Step 3:"})}),"\n",(0,n.jsx)(i.p,{children:"Extract all available flood maps generated from your hydraulic model and the HAND model.\nFlood maps may include:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Shapefiles of flood extents"}),"\n",(0,n.jsx)(i.li,{children:"Depth rasters"}),"\n",(0,n.jsx)(i.li,{children:"Water surface elevation rasters"}),"\n",(0,n.jsx)(i.li,{children:"Velocity rasters (if available)"}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.em,{children:"Note: The HAND model generates only depth rasters, which can be converted to shapefiles using GIS tools."})}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"Step 4:"})}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Reproject all raster and vector files to EPSG:4326 (WGS 84)."}),"\n",(0,n.jsx)(i.li,{children:"Ensure that the spatial extents of all files match, which is necessary for comparison in the FIM Visualization Application."}),"\n",(0,n.jsx)(i.li,{children:"You can use GIS software or python codes for reprojection and alignment."}),"\n"]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"Step 5:"})}),"\n",(0,n.jsx)(i.p,{children:"Prepare input files for populating the database. Here is the list of input files that you need for creating and populating ONE database (corresponding to your area of interest)."}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Table 1"})," Required input files for creating FIM database."]}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:(0,n.jsx)(i.strong,{children:"S.N."})}),(0,n.jsx)(i.th,{children:(0,n.jsx)(i.strong,{children:"Generic File Name"})}),(0,n.jsx)(i.th,{children:(0,n.jsx)(i.strong,{children:"Quantity"})}),(0,n.jsx)(i.th,{children:(0,n.jsx)(i.strong,{children:"Description"})})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"1."}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"FIM_input_data.csv"})}),(0,n.jsx)(i.td,{children:"1"}),(0,n.jsx)(i.td,{children:"Insert details of the models that are to be used in FIM database"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"2."}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:"Huc8.csv"})}),(0,n.jsx)(i.td,{children:"1"}),(0,n.jsx)(i.td,{children:"Assuming that the extent for all models is the same"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"3."}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:(0,n.jsx)(i.code,{children:"{River}_{model}_flows.csv"})})}),(0,n.jsx)(i.td,{children:"1 for each model type"}),(0,n.jsx)(i.td,{children:"Contains rating curve information for each model. Enter the file names of the raster and vector files that were generated in step 4."})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"4."}),(0,n.jsx)(i.td,{children:(0,n.jsx)(i.strong,{children:(0,n.jsx)(i.code,{children:"Feature_ids_{model}.csv"})})}),(0,n.jsx)(i.td,{children:"1 for each model type"}),(0,n.jsx)(i.td,{children:"Contains the list of NWM feature IDs for the area and their Lat, Long values"})]})]})]}),"\n",(0,n.jsxs)(i.p,{children:["You can use these ",(0,n.jsx)(i.a,{href:"https://byu-my.sharepoint.com/my?id=%2Fpersonal%2Fwaglep%5Fbyu%5Fedu%2FDocuments%2FSample%20files%20for%20database&ga=1",children:"sample input files"})," for your reference. Remember all the column headers should be exactly as they appear in these sample files."]}),"\n",(0,n.jsx)(i.p,{children:"Also, the name of the models in \u201csoftware\u201d column in FIM_input_data.csv file should match with the ones as shown in Table 2."}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Table 2"})," The list of software names currently included in the database."]}),"\n",(0,n.jsxs)(i.table,{children:[(0,n.jsx)(i.thead,{children:(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.th,{children:(0,n.jsx)(i.strong,{children:"ModelTypeID"})}),(0,n.jsx)(i.th,{children:(0,n.jsx)(i.strong,{children:"Software"})})]})}),(0,n.jsxs)(i.tbody,{children:[(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"0"}),(0,n.jsx)(i.td,{children:"HEC-RAS 1D"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"1"}),(0,n.jsx)(i.td,{children:"HEC-RAS 2D"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"2"}),(0,n.jsx)(i.td,{children:"HEC-RAS 1D/2D Combo"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"3"}),(0,n.jsx)(i.td,{children:"SRH-2D"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"4"}),(0,n.jsx)(i.td,{children:"FIER"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"5"}),(0,n.jsx)(i.td,{children:"AutoRoute"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"6"}),(0,n.jsx)(i.td,{children:"HAND"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"7"}),(0,n.jsx)(i.td,{children:"TRITON"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"8"}),(0,n.jsx)(i.td,{children:"Satellite Observations"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"9"}),(0,n.jsx)(i.td,{children:"Surveyed Flood Extents"})]}),(0,n.jsxs)(i.tr,{children:[(0,n.jsx)(i.td,{children:"10"}),(0,n.jsx)(i.td,{children:"Others"})]})]})]}),"\n",(0,n.jsxs)(i.p,{children:["To get the HUC8 number for the area, use the latter part of ",(0,n.jsx)(i.a,{href:"https://colab.research.google.com/drive/18CAyUd4ffUoNWDLvbaBVTw0XVSQrHNWI",children:"NWM_FeatureID_finder_Tool"}),"."]}),"\n",(0,n.jsx)(i.p,{children:(0,n.jsx)(i.strong,{children:"Step 6:"})}),"\n",(0,n.jsxs)(i.p,{children:["Use the ",(0,n.jsx)(i.a,{href:"https://colab.research.google.com/drive/1zCBRJKPk11wsyHRp3OBVMtEiWEaS823u",children:"FIM_database_tool"})," for step-by-step instructions to create and upload the FIM database to your HydroShare account."]}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"Upload all input files (from Step 5) and GIS files (from Step 4) to the content section of Google Collab notebook."}),"\n",(0,n.jsx)(i.li,{children:"Run each code cell carefully following the notebook instructions."}),"\n"]}),"\n",(0,n.jsx)(i.h2,{id:"database-storage",children:"Database storage"}),"\n",(0,n.jsx)(i.p,{children:"After completing the code execution from Step 6:"}),"\n",(0,n.jsxs)(i.ul,{children:["\n",(0,n.jsx)(i.li,{children:"All GIS files will be uploaded to your HydroShare account."}),"\n",(0,n.jsx)(i.li,{children:"Two JSON files will be generated:"}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"{filename}.json"})," is used for custom file visualization"]}),"\n",(0,n.jsxs)(i.li,{children:[(0,n.jsx)(i.code,{children:"{filename}_vis.json"})," is used for scenario visualization"]}),"\n"]}),"\n",(0,n.jsx)("img",{alt:"Flood map",src:a(3664).A,style:{maxHeight:"30rem"}}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Figure 4:"})," HydroShare resource with GIS files and two JSON files used for visualization"]}),"\n",(0,n.jsx)(i.h2,{id:"visualization-of-database",children:"Visualization of database"}),"\n",(0,n.jsx)(i.h3,{id:"custom-files-visualization",children:"Custom files visualization"}),"\n",(0,n.jsxs)(i.p,{children:["To view the individual flood maps, paste the URL of the ",(0,n.jsx)(i.code,{children:"{databasename}.json"}),' file in the FIM database uploader section of FIM Visualization Application. This will give you the list of all the flood map files available in your database. You can select the desired files that you want to visualize. The selected files will appear in the "User Files" section in the map layers of the visualization application. You can toggle between each individual files as shown in Figure 5.']}),"\n",(0,n.jsx)("img",{alt:"Flood map",src:a(11614).A,style:{maxHeight:"30rem"}}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Figure 5:"})," Custom files visualization in FIM visualization Application"]}),"\n",(0,n.jsx)(i.h3,{id:"scenario-visualization",children:"Scenario visualization"}),"\n",(0,n.jsxs)(i.p,{children:["To view the scenarios, paste the URL of the ",(0,n.jsx)(i.code,{children:"{databasename}_vis.json"})," file in the FIM Scenarios uploader section of the Visualization application. You can select the model type from the dropdown available in the top right panel. For a model, you can move the slider button and change the flow values to visualize the corresponding flood map as shown in Figure 6."]}),"\n",(0,n.jsx)("img",{alt:"Flood map",src:a(62177).A,style:{maxHeight:"30rem"}}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Figure 6:"})," Scenario visualization in FIM visualization Application"]}),"\n",(0,n.jsx)(i.h3,{id:"comparison-of-flood-maps",children:"Comparison of flood maps"}),"\n",(0,n.jsx)(i.p,{children:'Any two flood maps from any two models across any scenarios can be compared. To do this, select the FIM comparison option in the Data Uploader section and choose "Existing Scenarios". Select the name of database, names of model, and the scenarios that you want to compare. This will allow comparative visualization of those scenarios along with displaying the comparison metrics as shown in Figure 7. Similar comparison can also be performed by uploading any two flood map raster files (with same raster boundary) externally from your machine by selecting "User file upload" instead of "Existing Scenarios".'}),"\n",(0,n.jsx)("img",{alt:"Comparison of flood maps",src:a(49042).A,style:{maxHeight:"30rem"}}),"\n",(0,n.jsxs)(i.p,{children:[(0,n.jsx)(i.strong,{children:"Figure 7:"})," Comparison of two flood maps indicating different inundation extents and displaying comparison metrics for the two inundation maps, including proportion correction, bias ratio, hit rate, kappa value, fitness statistics, and mixed index"]})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,n.jsx)(i,{...e,children:(0,n.jsx)(c,{...e})}):c(e)}},69226:(e,i,a)=>{a.d(i,{A:()=>s});const s=a.p+"assets/images/FIMapp-966b50d4f9c8c53a9ca715df75d150b8.png"},3664:(e,i,a)=>{a.d(i,{A:()=>s});const s=a.p+"assets/images/HydroShare-5477c55f695e7442aa7d8462f5b5a78e.png"},62177:(e,i,a)=>{a.d(i,{A:()=>s});const s=a.p+"assets/images/Scenario-b9e6e2ace7c58c5d23b4d1e662a2624e.png"},49042:(e,i,a)=>{a.d(i,{A:()=>s});const s=a.p+"assets/images/compare-e73c089fc972356c53af9581d3bdf705.png"},11614:(e,i,a)=>{a.d(i,{A:()=>s});const s=a.p+"assets/images/custom-d1cb7f1e7e86b840c93922acab9f5f03.png"},10556:(e,i,a)=>{a.d(i,{A:()=>s});const s=a.p+"assets/images/overall-feafa8f41ee7c2a7e2a4ae378d76ef30.png"},88088:(e,i,a)=>{a.d(i,{A:()=>s});const s=a.p+"assets/images/webapp-7a1de49057e375821f12fc732590802e.png"},28453:(e,i,a)=>{a.d(i,{R:()=>t,x:()=>r});var s=a(96540);const n={},o=s.createContext(n);function t(e){const i=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:t(e.components),s.createElement(o.Provider,{value:i},e.children)}}}]);