/*! For license information please see 80ba1e60.803aea7e.js.LICENSE.txt */
"use strict";(self.webpackChunkciroh_docuhub=self.webpackChunkciroh_docuhub||[]).push([[2336],{95943:(e,t,s)=>{s.r(t),s.d(t,{assets:()=>d,contentTitle:()=>u,default:()=>m,frontMatter:()=>l,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"services/access","title":"Infrastructure Access","description":"CIROH provides access to both public cloud and on-premises infrastructure to support the research projects of its members and partners.","source":"@site/docs/services/access.mdx","sourceDirName":"services","slug":"/services/access","permalink":"/docuhub-staging/docs/services/access","draft":false,"unlisted":false,"editUrl":"https://github.com/CIROH-UA/ciroh-ua_website/edit/main/docs/services/access.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Infrastructure Access"},"sidebar":"services","previous":{"title":"CIROH CyberInfrastructure","permalink":"/docuhub-staging/docs/services/intro"},"next":{"title":"Public Cloud","permalink":"/docuhub-staging/docs/services/cloudservices/"}}');var n=s(74848),i=s(28453),o=(s(96540),s(31776));const c=e=>{let{text:t,children:s}=e;const{getCollapseProps:r,getToggleProps:i,isExpanded:c}=(0,o.n)();return(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{class:"button button--active button--primary",style:{"margin-right":"1.3rem","margin-bottom":"1.3rem"},...i(),children:t}),(0,n.jsx)("section",{...r(),children:s})]})};var a=s(56289);const l={sidebar_position:2,title:"Infrastructure Access"},u="Infrastructure Access Guide",d={},h=[{value:"Selecting a platform",id:"selecting-a-platform",level:2},{value:"Accessing Public Cloud Services",id:"accessing-public-cloud-services",level:2},{value:"Requesting Project Access",id:"requesting-project-access",level:3},{value:"Cost of Use",id:"cost-of-use",level:3},{value:"Accessing CIROH JupyterHub",id:"accessing-ciroh-jupyterhub",level:2},{value:"Requesting Project Access",id:"requesting-project-access-1",level:3},{value:"Requesting Individual Access",id:"requesting-individual-access",level:3},{value:"Requesting Custom Images",id:"requesting-custom-images",level:3},{value:"Accessing On-Premises Infrastructure",id:"accessing-on-premises-infrastructure",level:2},{value:"Requesting Project Access",id:"requesting-project-access-2",level:3},{value:"Requesting Individual Access",id:"requesting-individual-access-1",level:3},{value:"Accessing NWM BigQuery API",id:"accessing-nwm-bigquery-api",level:2}];function p(e){const t={a:"a",admonition:"admonition",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(t.header,{children:(0,n.jsx)(t.h1,{id:"infrastructure-access-guide",children:"Infrastructure Access Guide"})}),"\n",(0,n.jsx)(t.p,{children:"CIROH provides access to both public cloud and on-premises infrastructure to support the research projects of its members and partners."}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"selecting-a-platform",children:"Selecting a platform"}),"\n",(0,n.jsx)(t.p,{children:"Click the buttons below to open/close their panels."}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"What is your primary requirement?"})}),"\n",(0,n.jsxs)(c,{text:"High Performance Computing",children:[(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"Which HPC platform are you planning to use?"})}),(0,n.jsx)(c,{text:"Pantarhei HPC",children:(0,n.jsxs)("div",{class:"indent-wrapper",children:[(0,n.jsx)(t.p,{children:"Pantarhei offers CPU, GPU, and FPGA nodes."}),(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-right":"1.3rem","margin-bottom":"1.3rem"},to:"/docs/services/on-prem/Pantarhei/",children:"Get started with Pantarhei"})]})}),(0,n.jsx)(c,{text:"Wukong HPC",children:(0,n.jsxs)("div",{class:"indent-wrapper",children:[(0,n.jsx)(t.p,{children:"Wukong offers CPU and GPU nodes."}),(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-right":"1.3rem","margin-bottom":"1.3rem"},to:"/docs/services/on-prem/Wukong/",children:"Get started with Wukong"})]})}),(0,n.jsx)(c,{text:"CIROH VMStack",children:(0,n.jsx)("div",{class:"indent-wrapper",children:(0,n.jsx)(t.p,{children:"Information on CPU options for this platform will be available soon."})})}),(0,n.jsx)(t.hr,{})]}),"\n",(0,n.jsxs)(c,{text:"Cloud Computing",children:[(0,n.jsx)(t.p,{children:(0,n.jsx)(t.strong,{children:"What kind of computing environment are you looking for?"})}),(0,n.jsx)(c,{text:"General Purpose",children:(0,n.jsxs)("div",{class:"indent-wrapper",children:[(0,n.jsx)(t.p,{children:"CIROH provides researchers with access to enterprise-level AWS cloud services."}),(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-right":"1.3rem","margin-bottom":"1.3rem"},to:"/docs/services/cloudservices/aws/",children:"CIROH AWS Account info"})]})}),(0,n.jsx)(c,{text:"Google-Specific Services",children:(0,n.jsxs)("div",{class:"indent-wrapper",children:[(0,n.jsx)(t.p,{children:"CIROH Google VM Link\nCIROH provides researchers with access to enterprise-level Google Cloud services."}),(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-right":"1.3rem","margin-bottom":"1.3rem"},to:"/docs/services/cloudservices/google cloud/",children:"CIROH Google Account info"})]})}),(0,n.jsx)(c,{text:"Interactive Computing Environment",children:(0,n.jsxs)("div",{class:"indent-wrapper",children:[(0,n.jsx)(t.p,{children:"In collaboration with 2i2c, CIROH offers a dedicated JupyterHub environment on Google Cloud specifically designed for hydrological research. Both CPU and GPU options are available."}),(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-right":"1.3rem","margin-bottom":"1.3rem"},to:"/docs/services/cloudservices/ciroh jupyterhub/",children:"CIROH JupyterHub info"})]})}),(0,n.jsx)(t.hr,{})]}),"\n",(0,n.jsxs)(c,{text:"Data Storage and Archival",children:[(0,n.jsxs)("div",{class:"indent-wrapper",children:[(0,n.jsx)(t.p,{children:"Hydroshare is a collaborative, general-purpose repository for data, models, and other research products."}),(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-right":"1.3rem","margin-bottom":"1.3rem"},to:"/docs/services/cloudservices/ciroh jupyterhub/",children:"HydroShare info"}),(0,n.jsx)(t.p,{children:"Additionally, CIROH provides researchers with access to data buckets for use with AWS and Google Cloud services."}),(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-right":"1.3rem","margin-bottom":"1.3rem"},to:"/docs/services/cloudservices/aws/",children:"CIROH AWS Account info"}),(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-right":"1.3rem","margin-bottom":"1.3rem"},to:"/docs/services/cloudservices/google cloud/",children:"CIROH Google Account info"})]}),(0,n.jsx)(t.hr,{})]}),"\n",(0,n.jsx)(c,{text:"Data-Intensive Computing",children:(0,n.jsxs)("div",{class:"indent-wrapper",children:[(0,n.jsx)(t.p,{children:"CIROH's AWS instance and Google VMs both offer solid options for data-intensive processes."}),(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-right":"1.3rem","margin-bottom":"1.3rem"},to:"/docs/services/cloudservices/aws/",children:"CIROH AWS Account info"}),(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-right":"1.3rem","margin-bottom":"1.3rem"},to:"/docs/services/cloudservices/google cloud/",children:"CIROH Google Account info"})]})}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"accessing-public-cloud-services",children:"Accessing Public Cloud Services"}),"\n",(0,n.jsxs)("p",{children:["CIROH has partnered with ",(0,n.jsx)("b",{children:(0,n.jsx)(a.A,{to:"/docs/services/cloudservices/ciroh%20jupyterhub",children:"2i2c"})}),", ",(0,n.jsx)("b",{children:(0,n.jsx)(a.A,{to:"/docs/services/cloudservices/aws/",children:"AWS"})}),", and ",(0,n.jsx)("b",{children:(0,n.jsx)(a.A,{to:"/docs/services/cloudservices/google%20cloud/",children:"Google Cloud"})})," to provide access to their cloud computing services."]}),"\n",(0,n.jsx)(t.h3,{id:"requesting-project-access",children:"Requesting Project Access"}),"\n",(0,n.jsx)(t.p,{children:"PIs or Workshops Lead leading CIROH projects or workshops may use this form to request cloud computing resources (AWS, Google Cloud, CIROH-2i2c JupyterHub). Access is available to all consortium members and partners."}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Submit a GitHub template request detailing your project requirements and specifications."}),"\n",(0,n.jsx)(t.li,{children:"Our team will review your request and assist you in obtaining the necessary access."}),"\n"]}),"\n",(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-bottom":"1.3rem","margin-right":"1.4rem"},to:"https://github.com/CIROH-UA/NGIAB-CloudInfra/issues/new?assignees=&labels=infrastructure&projects=&template=case_studies_call.md&title=",children:"Cloud Infrastructure Request Form"}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["Please refer to ",(0,n.jsx)(t.a,{href:"https://github.com/CIROH-UA/NGIAB-CloudInfra/issues?q=is%3Aissue%20is%3Aclosed%20label%3Agoogle%2C%222i2c%20JupyterHub%22%2Caws%20",children:"this link"})," for references to submitted forms."]})}),"\n",(0,n.jsx)(t.p,{children:"CIROH Consortium members or partners are responsible for:"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Management of CIROH subaccounts assigned to them."}),"\n",(0,n.jsx)(t.li,{children:"Project-specific software and environment configuration."}),"\n",(0,n.jsx)(t.li,{children:"Handling account creation and/or access for project contacts."}),"\n"]}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsx)(t.p,{children:'If using CIROH-2i2c services, please see the "Accessing CIROH JupyterHub" section below for additional steps.'})}),"\n",(0,n.jsx)(t.h3,{id:"cost-of-use",children:"Cost of Use"}),"\n",(0,n.jsxs)(t.ul,{children:["\n",(0,n.jsx)(t.li,{children:"Use of CIROH JupyterHub is free for all consortium projects."}),"\n",(0,n.jsx)(t.li,{children:"Individual projects are allotted $500 monthly for use of AWS and Google Cloud services."}),"\n",(0,n.jsx)(t.li,{children:"CIROH projects that anticipate exceeding the monthly budget for cloud services may request additional funds via the form below."}),"\n"]}),"\n",(0,n.jsx)(a.A,{class:"button button--active button--primary",to:"https://github.com/CIROH-UA/NGIAB-CloudInfra/issues/new?assignees=&labels=infrastructure&projects=&template=exceeding_budget_request.md&title=",children:"Exceeding Budget Request Form"}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"accessing-ciroh-jupyterhub",children:"Accessing CIROH JupyterHub"}),"\n",(0,n.jsxs)("p",{children:["In partnership with ",(0,n.jsx)("b",{children:"2i2c"}),", ",(0,n.jsx)("b",{children:(0,n.jsx)(a.A,{to:"/docs/services/cloudservices/ciroh%20jupyterhub",children:"CIROH JupyterHub"})})," provides both CPU and GPU capabilities."]}),"\n",(0,n.jsx)(t.h3,{id:"requesting-project-access-1",children:"Requesting Project Access"}),"\n",(0,n.jsx)(t.p,{children:"PIs or Workshop Leads leading CIROH projects or workshops may use this form to request cloud computing resources (CIROH-2i2c JupyterHub). Access is available to all consortium members and partners."}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Submit a GitHub template request detailing your project requirements and specifications."}),"\n",(0,n.jsx)(t.li,{children:"Our team will review your request and assist you in obtaining the necessary access."}),"\n"]}),"\n",(0,n.jsx)(a.A,{class:"button button--active button--primary",to:"https://github.com/CIROH-UA/NGIAB-CloudInfra/issues/new?assignees=&labels=infrastructure&projects=&template=case_studies_call.md&title=",children:"Cloud Infrastructure Request Form"}),"\n",(0,n.jsx)(t.h3,{id:"requesting-individual-access",children:"Requesting Individual Access"}),"\n",(0,n.jsx)(t.p,{children:"Submit one of the following forms to get access to CIROH JupyterHub environments:"}),"\n",(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-bottom":"1.3rem","margin-right":"1.4rem"},to:"https://forms.office.com/Pages/ResponsePage.aspx?id=jnIAKtDwtECk6M5DPz-8p4IIpHdEnmhNgjOa9FjrwGtUNUoyV1UxNFIzV1AyTDhTNzdOT1Q5NVlLTC4u",children:"JupyterHub (2i2c) CPU Access Request Form"}),"\n",(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-bottom":"1.3rem"},to:"https://forms.office.com/r/mkrVJzyg9u",children:"JupyterHub (2i2c) GPU Access Request Form"}),"\n",(0,n.jsx)(t.admonition,{type:"note",children:(0,n.jsxs)(t.p,{children:["You will need to submit your GitHub username for this request.\nIf you do not currently have a GitHub account, follow the instructions at ",(0,n.jsx)(t.a,{href:"https://docs.github.com/en/get-started/start-your-journey/creating-an-account-on-github",children:"GitHub"}),"."]})}),"\n",(0,n.jsx)(t.h3,{id:"requesting-custom-images",children:"Requesting Custom Images"}),"\n",(0,n.jsx)(t.p,{children:"To request custom images:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["Create an ",(0,n.jsx)(t.code,{children:"environment.yml"})," file by exporting your conda environment."]}),"\n",(0,n.jsx)(t.li,{children:"Fill out the JupyterHub (2i2c) Software Install form."}),"\n"]}),"\n",(0,n.jsx)(a.A,{class:"button button--active button--primary",to:"https://forms.office.com/Pages/ResponsePage.aspx?id=jnIAKtDwtECk6M5DPz-8p4IIpHdEnmhNgjOa9FjrwGtUNUoyV1UxNFIzV1AyTDhTNzdOT1Q5NVlLTC4u",children:"JupyterHub (2i2c) Software Install Form"}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"accessing-on-premises-infrastructure",children:"Accessing On-Premises Infrastructure"}),"\n",(0,n.jsxs)(t.p,{children:["CIROH operates an on-premises infrastructure that includes high-performance computing (HPC) resources and specialized software via the ",(0,n.jsx)(t.a,{href:"on-prem/Pantarhei/",children:(0,n.jsx)(t.strong,{children:"Pantarhei"})})," and ",(0,n.jsx)(t.a,{href:"on-prem/Wukong/",children:(0,n.jsx)(t.strong,{children:"Wukong"})})," systems."]}),"\n",(0,n.jsx)(t.h3,{id:"requesting-project-access-2",children:"Requesting Project Access"}),"\n",(0,n.jsx)(t.p,{children:"Principle Investigators (PIs) leading CIROH projects may use this form to request CIROH on-premise requests (Pantarhei, Wukong and NSF Allocation - JetStream). Access is available to all consortium members and partners."}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"Submit a GitHub template request detailing your project requirements and specifications."}),"\n",(0,n.jsx)(t.li,{children:"Our team will review your request and assist you in obtaining the necessary access."}),"\n"]}),"\n",(0,n.jsxs)(t.blockquote,{children:["\n",(0,n.jsxs)(t.p,{children:[(0,n.jsx)(t.strong,{children:"Note"}),": The On-Premises Infrastructure Request Form must be submitted by the PI of the project."]}),"\n"]}),"\n",(0,n.jsx)(a.A,{class:"button button--active button--primary",to:"https://github.com/CIROH-UA/NGIAB-CloudInfra/issues/new?assignees=&labels=on-prem&projects=&template=onprem-request.md&title=",children:"On-premises Infrastructure Request Form"}),"\n",(0,n.jsx)(t.h3,{id:"requesting-individual-access-1",children:"Requesting Individual Access"}),"\n",(0,n.jsx)(t.p,{children:"Non-UA users should complete the VPN Access Request section of the form below before proceeding."}),"\n",(0,n.jsx)(t.p,{children:"From there, please complete the On-Premise Access Request section of the form below to request individual access to Pantarhei or Wukong."}),"\n",(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-bottom":"1.3rem"},to:"https://forms.office.com/Pages/ResponsePage.aspx?id=jnIAKtDwtECk6M5DPz-8p4IIpHdEnmhNgjOa9FjrwGtUMzdTOUpKVU5UWFNCU0ZQUlowS0cxV0xFRy4u",children:"On-Premise Access Request Form"}),"\n",(0,n.jsx)(t.hr,{}),"\n",(0,n.jsx)(t.h2,{id:"accessing-nwm-bigquery-api",children:"Accessing NWM BigQuery API"}),"\n",(0,n.jsxs)("p",{children:["To access CIROH's ",(0,n.jsx)("b",{children:(0,n.jsx)(a.A,{to:"/docs/products/Data Management and Access Tools/bigquery-api/",children:"NWM BigQuery API"})}),", please submit the form below."]}),"\n",(0,n.jsx)(a.A,{class:"button button--active button--primary",style:{"margin-bottom":"1.3rem"},to:"https://forms.office.com/r/FeNpjZstkr",children:"NWM BigQuery API Access Request Form"})]})}function m(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(p,{...e})}):p(e)}},28453:(e,t,s)=>{s.d(t,{R:()=>o,x:()=>c});var r=s(96540);const n={},i=r.createContext(n);function o(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function c(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),r.createElement(i.Provider,{value:t},e.children)}},31776:(e,t,s)=>{s.d(t,{n:()=>j});var r=s(96540),n=s.t(r,2);const i=function(e,t){};var o=class extends Error{constructor(e){super(`react-collapsed: ${e}`)}},c=(...e)=>i(e[0],`[react-collapsed] -- ${e[1]}`);function a(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e})),(0,r.useCallback)(((...e)=>t.current?.(...e)),[])}var l="(prefers-reduced-motion: reduce)";var u=n["useId".toString()]||(()=>{});var d="undefined"!=typeof window?r.useLayoutEffect:r.useEffect,h=!1,p=0,m=()=>++p;function g(e){const t=u()??"",s=function(e){const t=e||(h?m():null),[s,n]=r.useState(t);return d((()=>{null===s&&n(m())}),[]),r.useEffect((()=>{!1===h&&(h=!0)}),[]),null!=s?String(s):void 0}(e);return"string"==typeof e?e:"string"==typeof t?t:s}function f(e){e.id&&cancelAnimationFrame(e.id)}function b(e){return e?.current?e.current.scrollHeight:(c(!0,"Was not able to find a ref to the collapse element via `getCollapseProps`. Ensure that the element exposes its `ref` prop. If it exposes the ref prop under a different name (like `innerRef`), use the `refKey` property to change it. Example:\n\nconst collapseProps = getCollapseProps({refKey: 'innerRef'})"),0)}function x(...e){return e.every((e=>null==e))?null:t=>{e.forEach((e=>{!function(e,t){if(null!=e)if("function"==typeof e)e(t);else try{e.current=t}catch(s){throw new o(`Cannot assign value "${t}" to ref "${e}"`)}}(e,t)}))}}var v="undefined"==typeof window?r.useEffect:r.useLayoutEffect;function j({duration:e,easing:t="cubic-bezier(0.4, 0, 0.2, 1)",onTransitionStateChange:s=()=>{},isExpanded:n,defaultExpanded:i=!1,hasDisabledAnimation:o,id:u,...d}={}){const h=a(s),p=g(u?`${u}`:void 0),[m,j]=function(e,t,s){const[n,i]=(0,r.useState)(t),o=(0,r.useRef)(void 0!==e),l=o.current?e:n,u=a(s),d=(0,r.useCallback)((e=>{const t="function"==typeof e?e(l):e;o.current||i(t),u?.(t)}),[u,l]);return(0,r.useEffect)((()=>{c(!(o.current&&null==e),"`isExpanded` state is changing from controlled to uncontrolled. useCollapse should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop."),c(!(!o.current&&null!=e),"`isExpanded` state is changing from uncontrolled to controlled. useCollapse should not switch from uncontrolled to controlled (or vice versa). Decide between using a controlled or uncontrolled collapse for the lifetime of the component. Check the `isExpanded` prop.")}),[e]),[l,d]}(n,i),y=(0,r.useRef)(m),[C,A]=(0,r.useState)(!1),I=function(){const[e,t]=(0,r.useState)(!1);return(0,r.useEffect)((()=>{if("undefined"==typeof window||"function"!=typeof window.matchMedia)return;const e=window.matchMedia(l);t(e.matches);const s=e=>{t(e.matches)};return e.addEventListener?(e.addEventListener("change",s),()=>{e.removeEventListener("change",s)}):e.addListener?(e.addListener(s),()=>{e.removeListener(s)}):void 0}),[]),e}(),w=o??I,R=(0,r.useRef)(),H=(0,r.useRef)(),P=(0,r.useRef)(null),[q,O]=(0,r.useState)(null);!function(e){let t=e=>{};t=e=>{if(!e?.current)return;const{paddingTop:t,paddingBottom:s}=window.getComputedStyle(e.current);c(!(t&&"0px"!==t||s&&"0px"!==s),"Padding applied to the collapse element will cause the animation to break and not perform as expected. To fix, apply equivalent padding to the direct descendent of the collapse element. Example:\n\nBefore:   <div {...getCollapseProps({style: {padding: 10}})}>{children}</div>\n\nAfter:   <div {...getCollapseProps()}>\n             <div style={{padding: 10}}>\n                 {children}\n             </div>\n          </div>")},(0,r.useEffect)((()=>{t(e)}),[e])}(P);const k=`${d.collapsedHeight||0}px`;function S(e){if(!P.current)return;const t=P.current;for(const s in e){const r=e[s];r?t.style[s]=r:t.style.removeProperty(s)}}return v((()=>{if(!P.current)return;if(m===y.current)return;function s(t){return w?0:e??function(e){if(!e||"string"==typeof e)return 0;const t=e/36;return Math.round(10*(4+15*t**.25+t/5))}(t)}y.current=m;const r=e=>`height ${s(e)}ms ${t}`,n=e=>{H.current&&f(H.current),H.current=function(e,t){const s=performance.now(),r={};return function n(){r.id=requestAnimationFrame((r=>{r-s>t?e():n()}))}(),r}((function(){m?(S({height:"",overflow:"",transition:"",display:""}),h("expandEnd")):(S({transition:""}),h("collapseEnd")),A(!1)}),e)};return A(!0),R.current=m?requestAnimationFrame((()=>{h("expandStart"),S({display:"block",overflow:"hidden",height:k}),R.current=requestAnimationFrame((()=>{h("expanding");const e=b(P);n(s(e)),P.current&&(P.current.style.transition=r(e),P.current.style.height=`${e}px`)}))})):requestAnimationFrame((()=>{h("collapseStart");const e=b(P);n(s(e)),S({transition:r(e),height:`${e}px`}),R.current=requestAnimationFrame((()=>{h("collapsing"),S({height:k,overflow:"hidden"})}))})),()=>{R.current&&cancelAnimationFrame(R.current),H.current&&f(H.current)}}),[m,k,w,e,t,h]),{isExpanded:m,setExpanded:j,getToggleProps(e){const{disabled:t,onClick:s,refKey:r,...n}={refKey:"ref",onClick(){},disabled:!1,...e},i=q?"BUTTON"===q.tagName:void 0,o=e?.[r||"ref"],c={id:`react-collapsed-toggle-${p}`,"aria-controls":`react-collapsed-panel-${p}`,"aria-expanded":m,onClick(e){t||(s?.(e),j((e=>!e)))},[r||"ref"]:x(o,O)},a={type:"button",disabled:!!t||void 0},l={"aria-disabled":!!t||void 0,role:"button",tabIndex:t?-1:0};return!1===i?{...c,...l,...n}:!0===i?{...c,...a,...n}:{...c,...a,...l,...n}},getCollapseProps(e){const{style:t,refKey:s}={refKey:"ref",style:{},...e},r=e?.[s||"ref"];return{id:`react-collapsed-panel-${p}`,"aria-hidden":!m,"aria-labelledby":`react-collapsed-toggle-${p}`,role:"region",...e,[s||"ref"]:x(P,r),style:{boxSizing:"border-box",...C||m?{}:{display:"0px"===k?"none":"block",height:k,overflow:"hidden"},...t}}}}}}}]);